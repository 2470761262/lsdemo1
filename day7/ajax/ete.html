<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- <link rel="stylesheet" href="loopImage.css" /> -->
    <link
      rel="stylesheet"
      href="//at.alicdn.com/t/font_2016728_u88fytupsha.css"
    />
  </head>
  <body>
    <div>
      <p>readyState的状态码</p>
      <p>0 请求未初始化（在调用 open() 之前）</p>
      <p>1 请求已提出（调用 send() 之前）</p>
      <p>2请求已发送（这里通常可以从响应得到内容头部）</p>
      <p>3请求处理中（响应中通常有部分数据可用，但是服务器还没有完成响应）</p>
      <p>4请求已完成（可以访问服务器响应并使用它）</p>
    </div>
    <script>
      /**
       *
       *
       */
      let xhr = new XMLHttpRequest();
      xhr.responseType = "json";
      xhr.open("get", "http://localhost:8085/woshiget?name=郑然&age=18", true);
      xhr.onreadystatechange = function () {
        if (xhr.readyState == 4) {
          if (xhr.status == 200) {
            //成功
            console.log(xhr.response);
          } else {
            //失败
          }
        }
      };
      xhr.send();

      let xhr1 = new XMLHttpRequest();
      xhr1.responseType = "json";
      xhr1.open("post", "http://localhost:8085/woshipost", true);
      xhr1.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
      xhr1.onreadystatechange = function () {
        if (xhr1.readyState == 4) {
          if (xhr1.status == 200) {
            //成功
            console.log(xhr1.response);
          } else {
            //失败
          }
        }
      };
      xhr1.send(JSON.stringify({ name: "郑然", age: 18 }));
    </script>
  </body>
</html>
